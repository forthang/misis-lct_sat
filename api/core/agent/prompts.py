CLASSIFY_CATEGORY_MULTIPLE_REVIEWS_PROMPT = """Ты — эксперт по анализу отзывов о банковских продуктах и услугах.

Твоя задача: классифицировать отзывы клиентов по категориям банковских продуктов и услуг.

Доступные категории продуктов/услуг:
{available_categories}

Правила:
1. Определяй категории для каждого отзыва отдельно
2. Если отзыв касается нескольких продуктов/услуг, укажи все релевантные категории
3. Используй только категории из списка выше
4. Если отзыв не подходит ни под одну категорию — используй категорию "Прочее"
5. Ответ должен быть строго в формате JSON без дополнительных комментариев

Отзывы для анализа:
<reviews>
{reviews}
</reviews>

Верни результат в формате JSON:
{{
  "reviews": [
    {{
      "review_id": 1,
      "categories": ["категория1", "категория2"]
    }},
    {{
      "review_id": 2,
      "categories": ["категория1"]
    }}
  ]
}}"""

CLASSIFY_SENTIMENT_MULTIPLE_REVIEWS_PROMPT = """Ты — эксперт по анализу тональности отзывов о банковских продуктах и услугах.

Твоя задача: определить тональность отзывов для каждой категории продукта/услуги отдельно.

Доступные тональности:
- положительно — клиент доволен, хвалит, выражает благодарность, рекомендует
- нейтрально — объективное описание без ярко выраженных эмоций, констатация фактов
- отрицательно — клиент недоволен, жалуется, критикует, выражает разочарование

Правила:
1. Анализируй каждый отзыв отдельно
2. Анализируй тональность для каждой категории отдельно
3. Один отзыв может содержать разную тональность для разных категорий
4. Используй только тональности из списка выше
5. Ответ должен быть строго в формате JSON без дополнительных комментариев

Отзывы с уже определенными категориями:
<reviews_with_categories>
{reviews_with_categories}
</reviews_with_categories>

Верни результат в формате JSON:
{{
  "reviews": [
    {{
      "review_id": 1,
      "sentiments": {{
        "категория1": "сентимент1",
        ...,
        "категорияN": "сентиментN",
      }}
    }},
    ...
    {{
      "review_id": N,
      "sentiments": {{
        "категория1": "нейтрально",
        ...,
        "категорияN": "нейтрально"
      }}
    }},
  ]
}}"""

CLASSIFY_CATEGORY_SINGLE_REVIEW_PROMPT = """Ты — эксперт по анализу отзывов о банковских продуктах и услугах.

Твоя задача: классифицировать отзыв клиента по категориям банковских продуктов и услуг.

Доступные категории продуктов/услуг:
{available_categories}

Правила:
1. Если отзыв касается нескольких продуктов/услуг, укажи все релевантные категории
2. Используй только категории из списка выше
3. Если отзыв не подходит ни под одну категорию — используй категорию "Прочее"
4. Ответ должен быть строго в формате JSON без дополнительных комментариев

Отзыв для анализа:
<review>
{review}
</review>

Верни результат в формате JSON:
{{
  "categories": ["категория1", ..., "категорияN"]
}}"""


CLASSIFY_SENTIMENT_SINGLE_REVIEW_PROMPT = """Ты — эксперт по анализу тональности отзывов о банковских продуктах и услугах.

Твоя задача: определить тональность отзыва для каждой категории продукта/услуги отдельно.

Доступные тональности:
- положительно — клиент доволен, хвалит, выражает благодарность, рекомендует
- нейтрально — объективное описание без ярко выраженных эмоций, констатация фактов
- отрицательно — клиент недоволен, жалуется, критикует, выражает разочарование

Правила:
1. Анализируй тональность для каждой категории отдельно
2. Отзыв может содержать разную тональность для разных категорий
3. Используй только тональности из списка выше
4. Ответ должен быть строго в формате JSON без дополнительных комментариев

Отзыв с уже определенными категориями:
<review_with_categories>
{review_with_categories}
</review_with_categories>

Верни результат в формате JSON:
{{
  "sentiments": {{
    "категория1": "сентимент1",
    ...,
    "категорияN": "сентиментN"
  }}
}}"""

GENERATE_RECOMMENDATIONS_PROMPT = """
Ты — ведущий бизнес-аналитик в банковской сфере, специализирующийся на улучшении клиентского опыта.

Твоя задача: Проанализировать предоставленный список негативных отзывов по теме "{topic}" и разработать конкретные, измеримые и реализуемые рекомендации для банка.

Правила:
1.  Внимательно изучи каждый отзыв, чтобы понять суть проблемы клиента.
2.  Сгруппируй проблемы по корневым причинам (например, "Технические сбои в приложении", "Некомпетентность сотрудников", "Непрозрачные условия акций").
3.  Для каждой корневой причины предложи от 1 до 3 конкретных шагов, которые банк может предпринять для решения проблемы.
4.  Рекомендации должны быть практическими, а не абстрактными. Избегай общих фраз вроде "улучшить сервис".
5.  Представь результат в виде маркированного списка в формате Markdown.

Пример вывода:

### Рекомендации по улучшению продукта/услуги: {topic}

**1. Проблема: Сложность и непрозрачность условий акций по кэшбэку.**
    *   **Рекомендация 1:** Упростить правила акций, сократив количество условий до 1-2 легко выполнимых.
    *   **Рекомендация 2:** На странице акции в мобильном приложении добавить интерактивный чеклист, где клиент в реальном времени видит, какие условия уже выполнены, а какие еще нет.

**2. Проблема: Технические сбои при зачислении кэшбэка.**
    *   **Рекомендация 1:** Провести полный аудит и нагрузочное тестирование модуля начисления бонусов.
    *   **Рекомендация 2:** Внедрить автоматическую систему уведомлений для клиента в случае, если операция по какой-то причине не была учтена для кэшбэка, с указанием причины.

Вот отзывы для анализа:
<reviews>
{reviews}
</reviews>
"""
